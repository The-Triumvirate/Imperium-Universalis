
SD_trigger_recently_attacked = {
	OR = {
		has_province_modifier = SD_was_raided		# raid: limited attack, without options
		has_province_modifier = SD_was_tributed		# tribute: 20% income value, 10% devastation
		has_province_modifier = SD_was_sacked		# sack: 50% income value, 25% building destruction, 25% devastation, x% refugees
		has_province_modifier = SD_was_enslaved		# enslave: 20% income value, 10% devast, population enslaved
		has_province_modifier = SD_was_destroyed	# destroy: 30% income value, 60% building destruction, 40% devastation, enslaved, x% refugees
		has_province_modifier = SD_was_delenda		# delenda est: all of the above
	}
}

SD_slavesprod_check = {
	OR = {
		has_building = factory
		has_building = new_manufactory
		has_building = workshop
		has_building = cottage

		has_building = farming_settlement
		has_building = winery
		has_building = shepherds
		has_building = apiary
		has_building = weavers
		has_building = fishermen_huts
		has_building = tannery
		has_building = salt_gatherers
		has_building = miners_camp
		has_building = pottery
		has_building = glassmaker
		has_building = tar_pit
		has_building = blacksmith
		has_building = horsebreeder
		has_building = goldsmith
		has_building = lumberjack
		has_building = dyer
	}
}

########
## Forests
########

AN_can_chop_forest = {
	OR = {
		AND = {
			has_province_modifier = $TYPE$_1
			owner = {
				OR = {
					ai = no
					treasury = 50
				}
			}
		}
		AND = {
			has_province_modifier = $TYPE$_2
			owner = {
				OR = {
					ai = no
					treasury = 100
				}
			}
		}
		AND = {
			has_province_modifier = $TYPE$_3
			owner = {
				OR = {
					ai = no
					treasury = 150
				}
			}
		}
	}
	NOT = { has_province_modifier = $TYPE$_chopped }
}

AN_can_reforest = {
	OR = {
		AND = {
			has_province_flag = $TYPE$_residual
			owner = {
				OR = {
					ai = no
					treasury = 25
				}
			}
		}
		AND = {
			has_province_modifier = $TYPE$_1
			owner = {
				OR = {
					ai = no
					treasury = 150
				}
			}
		}
		AND = {
			has_province_modifier = $TYPE$_2
			owner = {
				OR = {
					ai = no
					treasury = 200
				}
			}
		}
		any_neighbor_province = {
			OR = {
				has_province_modifier = $TYPE$_1
				has_province_modifier = $TYPE$_2
				has_province_modifier = $TYPE$_3
			}
		}
	}
	NOT = {
		has_province_modifier = $TYPE$_chopped
		has_terrain = desert
		has_terrain = coastal_desert
	}
}