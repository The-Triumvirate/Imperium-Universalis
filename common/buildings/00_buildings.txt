# Do not change tags in here without changing every other reference to them.
# If adding new buildings, make sure they are uniquely named.

# cost = x #==> cost in $ to build (subject to other modifiers)
# time = x #==> number of months to build.
# modifier = m # a modifier on the province that the building gives
# trigger = t # an and trigger that needs to be fullfilled to build and keep the building
# one_per_country = yes/no # if yes, only one of these can exist in a country
# manufactory = { trade_good trade_good } # list of trade goods that get a production bonus
# onmap = yes/no # show as a sprite on the map

# FROM = owner
# ROOT = province

# Building AI is now mainly hard-coded. The AI will estimate how much it gains yearly from each building,
# convert the value to ducats, and take the building with biggest yearly return as a percentage of the build cost.
# If lower than 1%, the AI will not consider the yearly return worth it.
# It will also require higher yearly return if the economy in not in prime shape.
# Forts' value also get converted to a yearly return based on terrain and strategic position, as well as available budget for fort maintenance.

# AI can still be modded though; it will multiply the yearly return with the value of ai_will_do.
# If you don't want the AI to build a building at all, make ai_will_do become 0.
# AI will consider each building to be worth 0.01 ducats per year as a base, so making ai_will_do above cost will have them build it at some point.
# It will still check whether it can afford a building before doing so though, but may save up to it.

#########################################
# Imperium Universalis Unique Buildings #
#########################################

# Table of Contents (CTRL+F to Quick Find!)

# - FORT
# - ACADEMICS
# - BATHS
# - EMBASSY
# - GOVERNMENT
# - GRAIN DEPOT
# - HARBOR
# - MARKETPLACE
# - MEDICUS
# - MILITARY SETTLEMENT
# - MINES
# - ROADS
# - SHIPYARD
# - TAX COLLECTOR
# - TEMPLES
# - THEATRE
# - WATER IRRIGATION
# - WONDERS
# - WORKSHOP
# - LAND RECLAMATION
# - MANUFACTORIES

# End Table of Contents


#########
# URBAN #
#########

settlement = {
	cost = 50               # Cost of the building in ducats
    time = 12             # Time (in months) that it takes to construct the building

    indestructible = yes            # Optional, exempts this building from being destroyed via bankruptcy

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		base_manpower = 10
		check_variable = { which = AN_civ_stat value = 15 }
    }

	keep_trigger = {
		#base_manpower = 10
	}

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
        local_development_cost = -0.025
		supply_limit_modifier = 0.05
		local_institution_spread = 0.025
		allowed_num_of_buildings = 1
		#allowed_num_of_manufactories = 1
		#local_governing_cost = 0.25
		statewide_governing_cost = 0.025
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 10000
		modifier = {
			factor = 0
			NOT = {
				OR = {
					base_manpower = 10
					check_variable = { which = AN_civ_stat value = 15 }
				}
			}
		}
		modifier = {
			factor = 1.1
			is_capital = yes
		}
	}
}

village = {
	cost = 100               # Cost of the building in ducats
    time = 12             # Time (in months) that it takes to construct the building
    make_obsolete = settlement  # Optional, makes listed building obsolete when this building is constructed

    indestructible = yes            # Optional, exempts this building from being destroyed via bankruptcy

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		base_manpower = 25
		check_variable = { which = AN_civ_stat value = 15 }
    }

	keep_trigger = {
		#base_manpower = 5
	}

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
        local_development_cost = -0.05
		supply_limit_modifier = 0.1
		local_institution_spread = 0.05
		allowed_num_of_buildings = 2
		#allowed_num_of_manufactories = 2
		#local_governing_cost = 0.25
		statewide_governing_cost = 0.05
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 10000
		modifier = {
			factor = 0
			NOT = {
				OR = {
					base_manpower = 25
					check_variable = { which = AN_civ_stat value = 15 }
				}
			}
		}
		modifier = {
			factor = 1.1
			is_capital = yes
		}
	}
}

town = {
	cost = 200               # Cost of the building in ducats
    time = 12             # Time (in months) that it takes to construct the building
    make_obsolete = village  # Optional, makes listed building obsolete when this building is constructed

    indestructible = yes            # Optional, exempts this building from being destroyed via bankruptcy

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		base_manpower = 50
		check_variable = { which = AN_civ_stat value = 30 }
    }

	keep_trigger = {
	#	base_manpower = 10
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
        local_development_cost = -0.1
		supply_limit_modifier = 0.2
		local_institution_spread = 0.1
		allowed_num_of_buildings = 4
		#allowed_num_of_manufactories = 4
		#local_governing_cost = 0.5
		statewide_governing_cost = 0.1
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 10000
		#modifier = {
		#	factor = 1
		#	base_manpower = 10
		#}
		modifier = {
			factor = 0
			NOT = { base_manpower = 10 }
		}
    }
}

city = {
	cost = 400               # Cost of the building in ducats
    time = 12 # Time (in months) that it takes to construct the building
    make_obsolete = town  # Optional, makes listed building obsolete when this building is constructed

    indestructible = yes            # Optional, exempts this building from being destroyed via bankruptcy


    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		base_manpower = 100
		check_variable = { which = AN_civ_stat value = 45 }
    }

	keep_trigger = {
	#	base_manpower = 25
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
        local_development_cost = -0.15
		supply_limit_modifier = 0.3
		local_institution_spread = 0.15
		allowed_num_of_buildings = 6
		#allowed_num_of_manufactories = 6
		#local_governing_cost = 0.75
		statewide_governing_cost = 0.15
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 10000
		#modifier = {
		#	factor = 1
		#	base_manpower = 25
		#}
		modifier = {
			factor = 0
			NOT = { base_manpower = 25 }
		}
    }
}

metropolis = {
	cost = 800               # Cost of the building in ducats
    time = 12           # Time (in months) that it takes to construct the building
    make_obsolete = city  # Optional, makes listed building obsolete when this building is constructed

	indestructible = yes            # Optional, exempts this building from being destroyed via bankruptcy

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		base_manpower = 150
		check_variable = { which = AN_civ_stat value = 60 }
    }

	keep_trigger = {
	#	base_manpower = 50
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
        local_development_cost = -0.2
		supply_limit_modifier = 0.4
		local_institution_spread = 0.2
		allowed_num_of_buildings = 8
		#allowed_num_of_manufactories = 8
		#local_governing_cost = 1
		statewide_governing_cost = 0.2
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 10000
		#modifier = {
		#	factor = 1
		#	base_manpower = 50
		#}
		modifier = {
			factor = 0
			NOT = { base_manpower = 50 }
		}
    }
}

################
# FORT RELATED #
################

# Wood City Walls

wood_city_walls = { #year 135
	cost = 100
	time = 24

	build_trigger = {
		OR = {
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
		}
    }

	modifier = {
		fort_level = 1
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
	}
}

# Stone City Walls

stone_city_walls = { #year 295
	cost = 200
	time = 24
	make_obsolete = wood_city_walls

	build_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
    }

	modifier = {
		fort_level = 2
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { ai = yes	government = tribal } } # no tribal AI
	}
}

# Turreted City Walls

turreted_city_walls = { #year 430
	cost = 300
	time = 34
	make_obsolete = stone_city_walls

	build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
    }

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = fortress_ideas
			}
		}
	}

	modifier = {
		fort_level = 3
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = fortress_ideas } government = tribal } } # no tribal AI
	}
}

# Huge City Walls

huge_city_walls = { #year ?
	cost = 400
	time = 34
	make_obsolete = stone_city_walls

	build_trigger = {
		has_building = metropolis
    }

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = fortress_ideas
			}
		}
	}

	modifier = {
		fort_level = 4
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = fortress_ideas } government = tribal } } # no tribal AI
	}
}

# Small Outpost

small_outpost = { #year 135
	cost = 50
	time = 18

	modifier = {
		fort_level = 1
		local_unrest = -1
	}

	build_trigger = {
		NOT = { has_building = border_garrison }
		#owner = { has_institution = feudalism } swap to non-tribal?
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
	}
}

# Stone City Walls

large_outpost = { #year 295
	cost = 100
	time = 36
	make_obsolete = small_outpost

	modifier = {
		fort_level = 2
		local_unrest = -2
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { ai = yes	government = tribal } } # no tribal AI
	}
}

# Turreted City Walls

small_fortress = { #year 430
	cost = 200
	time = 48
	make_obsolete = large_outpost

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = fortress_ideas
			}
		}
	}

	modifier = {
		fort_level = 3
		local_unrest = -3
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = fortress_ideas } government = tribal } } # no tribal AI
	}
}

# Huge City Walls

large_fortress = { #year ?
	cost = 400
	time = 72
	make_obsolete = small_fortress

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = fortress_ideas
			}
		}
	}

	modifier = {
		fort_level = 4
		local_unrest = -4
	}

	onmap = yes
	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = fortress_ideas } government = tribal } } # no tribal AI
	}
}

# Border Garrison

border_garrison = { #year 130
	cost = 150
	time = 24

	modifier = {
		fort_level = 1
		local_unrest = -1
		blockade_force_required = 0.4
	}

	build_trigger = {
		any_neighbor_province = {
			NOT = { owned_by = ROOT }
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = fortress_ideas
			}
		}
	}

	keep_trigger = { any_neighbor_province = { NOT = { owned_by = ROOT } } }

	influencing_fort = yes

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 1.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = fortress_ideas } government = tribal } } # no tribal AI
	}
}

#################
# TRADE RELATED #
#################

tiny_marketplace = {
	cost = 50               # Cost of the building in ducats
    time = 8             # Time (in months) that it takes to construct the building
   # make_obsolete = <building>  # Optional, makes listed building obsolete when this building is constructed

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = settlement
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
			province_has_center_of_trade_of_level = 1
		}
		#owner = { has_institution = commercialism }
    }
	keep_trigger = {
        OR = {
			has_building = settlement
            has_building = village
            has_building = town
            has_building = city
            has_building = metropolis
			province_has_center_of_trade_of_level = 1
        }
    }


    #show_separate = yes
    #manufactory = { all }
    #bonus_manufactory = {
    	#food ?
    #}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
		province_trade_power_value = 1
		local_production_efficiency = 0.05
	}
	#bonus_modifier = {
	#	province_trade_power_value = 1
	#	local_production_efficiency = 0.1
	#}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 1
		}
    }
}

marketplace = {
	cost = 100               # Cost of the building in ducats
    time = 12             # Time (in months) that it takes to construct the building
   # make_obsolete = <building>  # Optional, makes listed building obsolete when this building is constructed

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
			province_has_center_of_trade_of_level = 1
		}
		#owner = { has_institution = commercialism }
    }
	keep_trigger = {
        OR = {
            has_building = village
            has_building = town
            has_building = city
            has_building = metropolis
			province_has_center_of_trade_of_level = 1
        }
    }


    #show_separate = yes
    #manufactory = { all }
    #bonus_manufactory = {
    	#food ?
    #}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
		province_trade_power_value = 2.5
		local_production_efficiency = 0.1
	}
	#bonus_modifier = {
	#	province_trade_power_value = 1
	#	local_production_efficiency = 0.1
	#}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 1
		}
    }
}

trade_depot = {
	cost = 200               # Cost of the building in ducats
    time = 24             # Time (in months) that it takes to construct the building
    make_obsolete = marketplace  # Optional, makes listed building obsolete when this building is constructed

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
			province_has_center_of_trade_of_level = 2
		}
		owner = { has_institution = commercialism }
    }
	keep_trigger = {
        OR = {
            has_building = village
            has_building = town
            has_building = city
            has_building = metropolis
			province_has_center_of_trade_of_level = 2
        }
    }

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
		province_trade_power_value = 5
		local_production_efficiency = 0.2
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 2
		}
    }
}
counting_house = {
	cost = 400               # Cost of the building in ducats
    time = 36             # Time (in months) that it takes to construct the building
    make_obsolete = trade_depot  # Optional, makes listed building obsolete when this building is constructed

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
			province_has_center_of_trade_of_level = 3
		}
		owner = { has_institution = commercialism has_institution = finance }
    }
	keep_trigger = {
        OR = {
            has_building = village
            has_building = town
            has_building = city
            has_building = metropolis
			province_has_center_of_trade_of_level = 3
        }
    }

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
		province_trade_power_value = 10
		local_production_efficiency = 0.3
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 3
		}
    }
}
bank = {
	cost = 600                 # Cost of the building in ducats
    time = 48             # Time (in months) that it takes to construct the building
    make_obsolete = counting_house  # Optional, makes listed building obsolete when this building is constructed

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
			province_has_center_of_trade_of_level = 4
		}
		owner = { has_institution = commercialism has_institution = finance }
    }
	keep_trigger = {
        OR = {
            has_building = village
            has_building = town
            has_building = city
            has_building = metropolis
			province_has_center_of_trade_of_level = 4
        }
    }

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    # The modifier the building applies to the province.
    # Country-scope modifiers used here will apply to the owning country of the building instead.
    modifier = {
		province_trade_power_value = 10
		local_production_efficiency = 0.5
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 4
		}
    }
}

######################
# PRODUCTION RELATED #
######################

cottage = {
	cost = 100               # Cost of the building in ducats
    time = 12             # Time (in months) that it takes to construct the building

    build_trigger = {
		OR = {
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
		}
    }

	modifier = {
		local_production_efficiency = 0.1
		#local_defensiveness = 0.05, supply_limit_modifier = 0.05 if irrigated
		#local_production_efficiency = 0.025 if produced
		#trade_goods_size_modifier = 0.05, local_fort_maintenance_modifier = -0.10 if quarried

	}

	on_built = {
		hidden_effect = {
			if = {
				limit = { water_irrigation_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = farming_building_1_modifier duration = -1 }
			}
			else_if = {
				limit = { craftsman_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = crafting_building_1_modifier duration = -1 }
			}
			else_if = {
				limit = { mines_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = mining_building_1_modifier duration = -1 }
			}
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
			AN_check_dev_variables = yes
		}
	}

	on_destroyed = {
		hidden_effect = {
			remove_province_modifier = farming_building_1_modifier
			remove_province_modifier = crafting_building_1_modifier
			remove_province_modifier = mining_building_1_modifier
			SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes
			AN_check_dev_variables = yes
		}
	}

    ai_will_do = {
        factor = 100
    }
}

workshop = {
	cost = 250               # Cost of the building in ducats
    time = 24             # Time (in months) that it takes to construct the building
	make_obsolete = cottage

    build_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
    }

    modifier = {
		local_production_efficiency = 0.2
		#local_defensiveness = 0.10, supply_limit_modifier = 0.10 if irrigated
		#local_production_efficiency = 0.05 if produced
		#trade_goods_size_modifier = 0.10, local_fort_maintenance_modifier = -0.20 if quarried
	}

	on_built = {
		hidden_effect = {
			remove_province_modifier = farming_building_1_modifier
			remove_province_modifier = crafting_building_1_modifier
			remove_province_modifier = mining_building_1_modifier
			if = {
				limit = { water_irrigation_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = farming_building_2_modifier duration = -1 }
			}
			else_if = {
				limit = { craftsman_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = crafting_building_2_modifier duration = -1 }
			}
			else_if = {
				limit = { mines_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = mining_building_2_modifier duration = -1 }
			}
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
			AN_check_dev_variables = yes
		}
	}

	on_destroyed = {
		hidden_effect = {
			remove_province_modifier = farming_building_2_modifier
			remove_province_modifier = crafting_building_2_modifier
			remove_province_modifier = mining_building_2_modifier
			SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes
			AN_check_dev_variables = yes
		}
	}

    ai_will_do = {
        factor = 100
    }
}

new_manufactory = {
	cost = 500               # Cost of the building in ducats
    time = 36             # Time (in months) that it takes to construct the building

    # Optional. Province scope. Limits construction of building if not met.
    build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
    }

    modifier = {
		local_production_efficiency = 0.35
		#allowed_num_of_manufactories = 1
		#local_defensiveness = 0.15, supply_limit_modifier = 0.25 if irrigated
		#local_production_efficiency = 0.10 if produced
		#trade_goods_size_modifier = 0.15, local_fort_maintenance_modifier = -0.35 if quarried
	}

	on_built = {
		hidden_effect = {
			remove_province_modifier = farming_building_1_modifier
			remove_province_modifier = crafting_building_1_modifier
			remove_province_modifier = mining_building_1_modifier
			remove_province_modifier = farming_building_2_modifier
			remove_province_modifier = crafting_building_2_modifier
			remove_province_modifier = mining_building_2_modifier
			if = {
				limit = { water_irrigation_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = farming_building_3_modifier duration = -1 }
			}
			else_if = {
				limit = { craftsman_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = crafting_building_3_modifier duration = -1 }
			}
			else_if = {
				limit = { mines_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = mining_building_3_modifier duration = -1 }
			}
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
			AN_check_dev_variables = yes
		}
	}

	on_destroyed = {
		hidden_effect = {
			remove_province_modifier = farming_building_3_modifier
			remove_province_modifier = crafting_building_3_modifier
			remove_province_modifier = mining_building_3_modifier
			SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes
			AN_check_dev_variables = yes
		}
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

factory = {
	cost = 1000               # Cost of the building in ducats
    time = 60             # Time (in months) that it takes to construct the building

    build_trigger = {
		has_building = metropolis
    }

    modifier = {
		local_production_efficiency = 0.5
		#allowed_num_of_manufactories = 1
		#local_defensiveness = 0.20, supply_limit_modifier = 0.50 if irrigated
		#local_production_efficiency = 0.15 if produced
		#trade_goods_size_modifier = 0.20, local_fort_maintenance_modifier = -0.50 if quarried
	}

	on_built = {
		hidden_effect = {
			remove_province_modifier = farming_building_1_modifier
			remove_province_modifier = crafting_building_1_modifier
			remove_province_modifier = mining_building_1_modifier
			remove_province_modifier = farming_building_2_modifier
			remove_province_modifier = crafting_building_2_modifier
			remove_province_modifier = mining_building_2_modifier
			remove_province_modifier = farming_building_3_modifier
			remove_province_modifier = crafting_building_3_modifier
			remove_province_modifier = mining_building_3_modifier
			if = {
				limit = { water_irrigation_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = farming_building_4_modifier duration = -1 }
			}
			else_if = {
				limit = { craftsman_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = crafting_building_4_modifier duration = -1 }
			}
			else_if = {
				limit = { mines_workshop_building_trigger = yes }
				add_permanent_province_modifier = { name = mining_building_4_modifier duration = -1 }
			}
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
			AN_check_dev_variables = yes
		}
	}

	on_destroyed = {
		hidden_effect = {
			remove_province_modifier = farming_building_4_modifier
			remove_province_modifier = crafting_building_4_modifier
			remove_province_modifier = mining_building_4_modifier
			SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes
			AN_check_dev_variables = yes
		}
	}

    ai_will_do = {
        factor = 100
    }
}

#####################
# ACADEMICS RELATED #
#####################

# Mathematician Academy

mathematician_academy = { #year 415
	cost = 600
	time = 24

	modifier = {
		allowed_num_of_buildings = 1
		adm_tech_cost_modifier = -0.05
		build_cost = -0.1
	}

	build_trigger = {
		has_building = great_library
		NOT = {
			owner = {
				any_owned_province = {
					has_province_modifier = mathematician_library_modifier
				}
			}
		}
	}

	on_built = {
		remove_building = mathematician_academy
		add_province_modifier = {
			name = mathematician_library_modifier
			duration = -1
		}
	}

	ai_will_do = {
        factor = 100
	}
}

# Philosophers Academy

philosophers_academy = { #year 415
	cost = 600
	time = 24

	modifier = {
		allowed_num_of_buildings = 1
		dip_tech_cost_modifier = -0.05
		national_focus_years = -5
	}

	build_trigger = {
		has_building = great_library
		NOT = {
			owner = {
				any_owned_province = {
					has_province_modifier = philosophers_library_modifier
				}
			}
		}
	}

	on_built = {
		remove_building = philosophers_academy
		add_province_modifier = {
			name = philosophers_library_modifier
			duration = -1
		}
	}

	ai_will_do = {
        factor = 100
	}
}

# Military Academy

military_academy = { #year 415
	cost = 600
	time = 24

	modifier = {
		allowed_num_of_buildings = 1
		mil_tech_cost_modifier = -0.05
		general_cost = -0.1
		yearly_army_professionalism = 0.025
	}

	build_trigger = {
		has_building = great_library
		NOT = {
			owner = {
				any_owned_province = {
					has_province_modifier = military_library_modifier
				}
			}
		}
	}

	on_built = {
		remove_building = military_academy
		add_province_modifier = {
			name = military_library_modifier
			duration = -1
		}
	}

	ai_will_do = {
        factor = 100
	}
}

# Library

library = {	#year 235
	cost = 600
	time = 36

	build_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				full_idea_group = academy_ideas
			}
		}
	}

	keep_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
	}

	modifier = {
		local_institution_spread = 0.25
		innovativeness_gain = 0.015
		local_build_cost = -0.05
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

# large Library

large_library = { #year ?
	cost = 1200
	time = 48
	make_obsolete = library

	modifier = {
		local_institution_spread = 0.5
		innovativeness_gain = 0.025
		local_build_cost = -0.1
		statewide_governing_cost = -0.05
		local_unrest = 0.5
	}

	build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				full_idea_group = academy_ideas
			}
		}
	}

	keep_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

# Great Library

great_library = { #year 400
	cost = 1600
	time = 60
	make_obsolete = library

	modifier = {
		local_institution_spread = 1
		innovativeness_gain = 0.05
		local_build_cost = -0.15
		statewide_governing_cost = -0.1
		local_unrest = 1
		army_tradition = 0.01
	}

	build_trigger = {
		has_building = metropolis
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				full_idea_group = academy_ideas
			}
		}
	}

	keep_trigger = {
		has_building = metropolis
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

#################
# BATHS RELATED #
#################

# palestra
palestra = { #year 445
	cost = 150
	time = 12
	modifier = {
		local_tax_modifier = 0.1
		local_prosperity_growth = 0.075
		local_culture_conversion_cost = -0.1
		# Popgrowth
		local_colonial_growth = 0.1		# Urban capacity (+ absolute)
	}

	ai_will_do = {
		factor = 1.5
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}
# Small Bath
small_bath = { #year 445
	cost = 300
	time = 24
	make_obsolete = palestra
	modifier = {
		local_tax_modifier = 0.15
		local_prosperity_growth = 0.1
		local_culture_conversion_cost = -0.15
		# Popgrowth
		local_colonial_growth = 0.25		# Urban capacity (+ absolute)
	}

	ai_will_do = {
		factor = 1.5
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Big Bath

big_bath = { #year 700
	cost = 500
	time = 36
	make_obsolete = small_bath

	modifier = {
		local_tax_modifier = 0.2
		local_prosperity_growth = 0.15
		local_culture_conversion_cost = -0.2
		# Popgrowth
		local_colonial_growth = 0.6		# Urban capacity (+ absolute)
	}

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
		factor = 1.5
		modifier = { factor = 0	owner = { NOT = { full_idea_group = engineering_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

###################
# EMBASSY RELATED #
###################

# Embassy

embassy = {	#year 295
	cost = 500
	time = 24
	one_per_country = yes
	modifier = {
		diplomatic_upkeep = 1
		diplomatic_reputation = 0.5
		local_state_maintenance_modifier = 0.2
	}

	build_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = diplomatic_ideas
			}
		}
	}

	keep_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

# Diplomats Quarter

diplomats_quarter = { #year 400
	cost = 1500
	time = 48
	make_obsolete = embassy
	one_per_country = yes
	modifier = {
		diplomatic_upkeep = 2
		diplomatic_reputation = 1
		local_state_maintenance_modifier = 0.25
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = diplomatic_ideas
			}
		}
	}

	keep_trigger = {
		OR = { has_building = city has_building = metropolis }
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

    # The importance the AI places on constructing this building.
    ai_will_do = {
        factor = 100
    }
}

######################
# GOVERNMENT RELATED #
######################

# Small Townhall

small_townhall = { #year 135
	cost = 100
	time = 12

	modifier = {
		local_autonomy = -0.05
		local_state_maintenance_modifier = 0.05
		governing_capacity = 25
		local_governing_cost = -0.025
		statewide_governing_cost = -0.025
		local_unrest = -2.5
		yearly_corruption = -0.1
	}

	build_trigger = {
		OR = { has_building = village has_building = town has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = domestic_government_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Big Townhall

big_townhall = { #year 400
	make_obsolete = small_townhall
	cost = 200
	time = 24

	modifier = {
		local_autonomy = -0.1
		local_state_maintenance_modifier = 0.1
		governing_capacity = 50
		local_governing_cost = -0.05
		statewide_governing_cost = -0.05
		local_unrest = -5
		yearly_corruption = -0.2
	}

	build_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = domestic_government_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Government Palace

government_palace = { #year 490
	make_obsolete = big_townhall
	cost = 400
	time = 36
	modifier = {
		local_autonomy = -0.15
		local_state_maintenance_modifier = 0.15
		governing_capacity = 75
		local_governing_cost = -0.075
		statewide_governing_cost = -0.075
		local_unrest = -7.5
		yearly_corruption = -0.35
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = domestic_government_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Government District

government_district = { #year 625
	make_obsolete = government_palace
	cost = 800
	time = 60

	modifier = {
		local_autonomy = -0.2
		local_state_maintenance_modifier = 0.2
		governing_capacity = 100
		local_governing_cost = -0.1
		statewide_governing_cost = -0.1
		local_unrest = -10
		yearly_corruption = -0.5
	}

	build_trigger = {
		has_building = metropolis
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = domestic_government_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

#######################
# GRAIN DEPOT RELATED #
#######################

# Small Grain Depot

small_grain_depot = { #year 205
	cost = 300
	time = 24

	build_trigger = {
		OR = {
			trade_goods = grain
			trade_goods = fruits
			trade_goods = rice
		}
	}

	keep_trigger = {
		OR = {
			trade_goods = grain
			trade_goods = fruits
			trade_goods = rice
		}
	}

	modifier = {
		land_forcelimit = 1
		trade_goods_size_modifier = 0.2
		supply_limit = 1.5
	}

	ai_will_do = {
		factor = 1
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Big Grain Depot

big_grain_depot = { #year 475
	cost = 600
	time = 36
	make_obsolete = small_grain_depot
	build_trigger = {
		OR = {
			trade_goods = grain
			trade_goods = fruits
			trade_goods = rice
		}
	}
	modifier = {
		land_forcelimit = 3
		trade_goods_size_modifier = 0.4
		supply_limit = 3
	}


	ai_will_do = {
		factor = 1
		modifier = { factor = 0	owner = { NOT = { full_idea_group = agraculture_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

##################
# HARBOR RELATED #
##################

# Small Harbor

small_harbor = { #year 235
	cost = 100
	time = 12

	build_trigger = {
		has_port = yes
		OR = {
			has_building = village has_building = town has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 1
		}
	}
	keep_trigger = {
		OR = {
			has_building = village has_building = town has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 1
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		local_sailors_modifier  = 0.25
		province_trade_power_modifier = 0.1
		naval_forcelimit = 0.5
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 1
		}
	}
}

# Big Harbor

big_harbor = { #year 430
	cost = 200
	time = 24
	make_obsolete = small_harbor

	build_trigger = {
		has_port = yes
		OR = {
			has_building = town has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 2
		}
		owner = { has_institution = commercialism }
	}
	keep_trigger = {
		OR = {
			has_building = town has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 2
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		local_sailors_modifier  = 0.5
		province_trade_power_modifier = 0.2
		naval_forcelimit = 1
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 2
		}
	}
}

# Harbor District

harbor_district = { #year 550
	cost = 400
	time = 36
	make_obsolete = big_harbor

	build_trigger = {
		has_port = yes
		OR = {
			has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 3
		}
	}
	keep_trigger = {
		OR = {
			has_building = city has_building = metropolis
			province_has_center_of_trade_of_level = 3
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		local_sailors_modifier  = 0.75
		province_trade_power_modifier = 0.4
		naval_forcelimit = 2
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 3
		}
	}
}

massive_harbor = { #harbor
	cost = 800
    time = 48
    make_obsolete = harbor_district

    build_trigger = {
		has_port = yes
		OR = {
			has_building = metropolis
			province_has_center_of_trade_of_level = 4
		}
		owner = { has_institution = commercialism has_institution = finance }
    }
	keep_trigger = {
        OR = {
            has_building = metropolis
			province_has_center_of_trade_of_level = 4
        }
    }

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

    modifier = {
		local_sailors_modifier  = 1
		province_trade_power_modifier = 0.6
		local_institution_spread = 0.05
		naval_forcelimit = 4
	}

    ai_will_do = {
        factor = 100
		modifier = {
			factor = 5
			province_has_center_of_trade_of_level = 4
		}
    }
}

#######################
# MARKETPLACE RELATED #
#######################

# Small Market

small_market = { #year 160
	cost = 200
	time = 12

	modifier = {
		province_trade_power_modifier = 0.1
		local_institution_spread = 0.05
		local_state_maintenance_modifier = 0.05
		# Popgrowth
		local_colonial_growth = 0.1		# Urban capacity (+ absolute)
	}

	ai_will_do = {
		factor = 4.0
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Medium Market

medium_market = { #year 325
	make_obsolete = small_market
	cost = 300
	time = 12

	modifier = {
		province_trade_power_modifier = 0.2
		local_institution_spread = 0.1
		local_state_maintenance_modifier = 0.1
		# Popgrowth
		local_colonial_growth = 0.3		# Urban capacity (+ absolute)
	}

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
		factor = 4.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = engineering_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Great Market

great_market = { #year 445
	make_obsolete = medium_market
	cost = 400
	time = 24

	modifier = {
		province_trade_power_modifier = 0.35
		local_institution_spread = 0.2
		local_state_maintenance_modifier = 0.15
		# Popgrowth
		local_colonial_growth = 0.5		# Urban capacity (+ absolute)
	}

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
		factor = 4.0
		modifier = { factor = 0	owner = { NOT = { full_idea_group = engineering_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

###################
# MEDICUS RELATED #
###################

# Herbalist

herbalist = { #year 205
	cost = 300
	time = 24

	modifier = {
		local_monthly_devastation = -0.05
		supply_limit_modifier = 0.25
		local_state_maintenance_modifier = 0.075
	}

	build_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = administrative_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Medicus

medicus = {	#year 370
	cost = 450
	time = 36
	make_obsolete = herbalist

	modifier = {
		local_monthly_devastation = -0.1
		supply_limit_modifier = 0.5
		local_state_maintenance_modifier = 0.15
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = administrative_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Hospital

hospital = { #year 550
	cost = 600
	time = 60
	make_obsolete = medicus

	modifier = {
		local_monthly_devastation = -0.15
		supply_limit_modifier = 1
	}

	build_trigger = {
		has_building = metropolis
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = administrative_ideas
			}
		}
	}

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

aqueduct = { #year 565
	cost = 600
	time = 36

	modifier = {
		local_development_cost = 0.2
		local_production_efficiency = 0.2
		local_state_maintenance_modifier = 0.3
		# Popgrowth
		local_colonial_growth = 0.2		# Urban capacity (+ absolute)
	}

	build_trigger = {
		owner = {
			OR = {
				full_idea_group = agraculture_ideas
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
		factor = 5.0
		modifier = { factor = 0	owner = { NOT = { OR = { full_idea_group = agraculture_ideas full_idea_group = engineering_ideas } }	} } # only engineers and agriculturals
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}
###############################
# MILITARY SETTLEMENT RELATED #
###############################

# Small Army Camp

tiny_army_camp = {	#year 160
	cost = 100
	time = 8

	modifier = {
		local_manpower_modifier  = 0.15
		land_forcelimit = 0.5
		local_regiment_cost = -0.05
		regiment_recruit_speed = -0.05
	}

	build_trigger = {
		OR = { has_building = settlement has_building = village has_building = town has_building = city has_building = metropolis }
    }

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Small Army Camp

small_army_camp = {	#year 160
	cost = 200
	time = 12
	make_obsolete = tiny_army_camp

	modifier = {
		local_manpower_modifier  = 0.25
		land_forcelimit = 1
		local_regiment_cost = -0.05
		regiment_recruit_speed = -0.1
	}

	build_trigger = {
		OR = { has_building = village has_building = town has_building = city has_building = metropolis }
    }

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Small Military Settlement

small_military_settlement = { #year 295
	cost = 400
	time = 18
	make_obsolete = small_army_camp

	modifier = {
		local_manpower_modifier  = 0.5
		land_forcelimit = 2
		local_regiment_cost = -0.1
		regiment_recruit_speed = -0.2
		local_defensiveness = 0.05
	}

	build_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
    }

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Big Military Settlement

big_military_settlement = {	#year 370
	cost = 800
	time = 24
	make_obsolete = small_military_settlement

	modifier = {
		local_manpower_modifier = 0.75
		land_forcelimit = 3
		local_regiment_cost = -0.2
		regiment_recruit_speed = -0.3
		local_defensiveness = 0.1
		local_hostile_attrition = 0.5
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
    }

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

# Big Military Settlement

huge_military_settlement = {	#year 370
	cost = 1200
	time = 36
	make_obsolete = big_military_settlement

	modifier = {
		local_manpower_modifier = 1
		land_forcelimit = 6
		local_regiment_cost = -0.4
		regiment_recruit_speed = -0.4
		local_defensiveness = 0.2
		local_hostile_attrition = 1
	}

	build_trigger = {
		OR = { has_building = metropolis }
    }

	on_built = {
		AN_check_dev_variables = yes
	}

	on_destroyed = {
		AN_check_dev_variables = yes
	}

	ai_will_do = {
		factor = 100
	}
}

#################
# ROADS RELATED ## roads should represent the bare minimum of infrastructure#
#################

# Gravel Road

gravel_road = {	#year 130
	cost = 250
	#indestructible = yes
	time = 36

	modifier = {
		local_build_time = -0.05
		trade_value_modifier = 0.025
		local_friendly_movement_speed = 0.1
		local_hostile_movement_speed = 0.1
		allowed_num_of_buildings = 1
		local_state_maintenance_modifier = 0.05
		# Popgrowth
		local_colonial_growth = 0.1		# Urban capacity (+ absolute)
	}

	ai_will_do = {
		factor = 8
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Paved Road

paved_road = { #year 325
	make_obsolete = gravel_road
	cost = 400
	#indestructible = yes
	time = 36

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	modifier = {
		local_build_time = -0.1
		trade_value_modifier = 0.05
		local_friendly_movement_speed = 0.15
		local_hostile_movement_speed = 0.15
		allowed_num_of_buildings = 1
		local_state_maintenance_modifier = 0.075
		# Popgrowth
		local_colonial_growth = 0.25		# Urban capacity (+ absolute)
	}

	ai_will_do = {
		factor = 8
		modifier = { factor = 0	owner = { NOT = { full_idea_group = engineering_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

# Imperial Road

imperial_road = { #year 565
	make_obsolete = paved_road
	cost = 500
	#indestructible = yes
	time = 36

	modifier = {
		local_build_time = -0.2
		trade_value_modifier = 0.1
		local_friendly_movement_speed = 0.2
		local_hostile_movement_speed = 0.2
		allowed_num_of_buildings = 2
		local_state_maintenance_modifier = 0.1
		# Popgrowth
		local_colonial_growth = 0.5		# Urban capacity (+ absolute)
	}

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
		factor = 8
		modifier = { factor = 0	owner = { NOT = { full_idea_group = engineering_ideas }	government = tribal } } # no tribal AI
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }

	}
}

####################
# SHIPYARD RELATED #
####################

# Small Shipyard

military_shipbuilders = { #year 175
	cost = 100
	time = 12

	build_trigger = {
		has_port = yes
		OR = { has_building = small_harbor has_building = big_harbor has_building = harbor_district has_building = massive_harbor }
		OR = { has_building = village has_building = town has_building = city has_building = metropolis }
	}
	keep_trigger = {
		OR = {
			has_building = village has_building = town has_building = city has_building = metropolis
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		naval_forcelimit = 1
		local_sailors_modifier = 0.10
		local_ship_repair = 0.1
		local_ship_cost = -0.05
		ship_recruit_speed = -1
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
		}
	}
}

small_shipyard = { #year 175
	cost = 200
	time = 32

	build_trigger = {
		has_port = yes
		OR = { has_building = big_harbor has_building = harbor_district has_building = massive_harbor }
		OR = { has_building = town has_building = city has_building = metropolis }
	}
	keep_trigger = {
		OR = {
			has_building = town has_building = city has_building = metropolis
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		naval_forcelimit = 2
		local_sailors_modifier = 0.25
		local_ship_repair = 0.25
		local_ship_cost = -0.1
		ship_recruit_speed = -1.5
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
		}
	}
}

# Big Shipyard

big_shipyard = { #year 385
	cost = 400
	time = 48
	make_obsolete = small_shipyard

	build_trigger = {
		has_port = yes
		OR = { has_building = harbor_district has_building = massive_harbor }
		OR = { has_building = city has_building = metropolis }
	}
	keep_trigger = {
		OR = {
			has_building = city has_building = metropolis
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		naval_forcelimit = 4
		local_sailors_modifier = 0.5
		local_ship_repair = 0.5
		local_ship_cost = -0.15
		ship_recruit_speed = -2
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
		}
	}
}

military_wharf = { #year 535
	cost = 800
	time = 60
	make_obsolete = big_shipyard

	build_trigger = {
		has_port = yes
		OR = { has_building = massive_harbor }
		OR = { has_building = metropolis }
	}
	keep_trigger = {
		OR = { has_building = metropolis }
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	modifier = {
		naval_forcelimit = 8
		local_sailors_modifier = 1
		local_ship_repair = 1
		local_ship_cost = -0.25
		ship_recruit_speed = -2.5
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 5
		}
	}
}
###################
# SPECIAL RELATED #
###################

# Military Monument

military_monument = { #year 565
	cost = 1500
	time = 48
	modifier = {
		army_tradition = 0.5
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			army_tradition = 75
			prestige = 75
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = imperial_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	one_per_country = yes

	ai_will_do = {
		factor = 1000
	}
}

# Naval Monument

naval_monument = { #year 580
	cost = 1500
	time = 48

	modifier = {
		navy_tradition = 0.5
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			navy_tradition = 75
			prestige = 75
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = imperial_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	one_per_country = yes

	ai_will_do = {
		factor = 1000
	}
}

# Imperial Palace

imperial_palace = { #year 325
	cost = 2000
	time = 48

	modifier = {
		max_absolutism = 10
		governing_capacity_modifier = 0.15
		local_state_maintenance_modifier = 0.5
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = imperial_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	one_per_country = yes

	ai_will_do = {
		factor = 1000
	}
}

# Palace Garden

palace_garden = { #year 325
	cost = 2000
	time = 60
	modifier = {
		monthly_splendor = 0.5
		diplomats = 1
		local_state_maintenance_modifier = 0.35
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = imperial_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }

	one_per_country = yes

	ai_will_do = {
		factor = 1000
	}
}

#########################
# TAX COLLECTOR RELATED #
#########################

# Tribute
tribute_gathering = { #year 220
	cost = 250
	time = 24

	modifier = {
		local_tax_modifier = 0.20
		local_unrest = 4
	}

	build_trigger = {
		OR = { has_building = town has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = economic_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }
}

# Taxman
taxman = { #year 280
	cost = 500
	time = 36
	make_obsolete = tribute_gathering

	modifier = {
		local_tax_modifier = 0.30
		local_unrest = 6
	}

	build_trigger = {
		OR = { has_building = city has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = economic_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }
}

# Tax Collector

tax_collector = { #year 460
	cost = 800
	time = 60
	make_obsolete = taxman

	modifier = {
		local_tax_modifier = 0.40
		local_unrest = 8
	}

	build_trigger = {
		OR = { has_building = metropolis }
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = economic_ideas
			}
		}
	}

	on_built = { AN_check_dev_variables = yes }

	on_destroyed = { AN_check_dev_variables = yes }
}

###################
# TEMPLES RELATED #
###################

# Shrine

shrine = { #year 135
	cost = 50
	time = 12

	modifier = {
		local_missionary_strength = 0.01
		local_missionary_maintenance_cost = -0.05
		local_prosperity_growth = 0.025
		# Popgrowth
	}

	on_built = {
		AN_check_dev_variables = yes
		if = {
			limit = { owner = { uses_patriarch_authority = yes } }
			owner = { add_patriarch_authority = 0.005 }
		}
		if = {
			limit = {
				owner = {
					tag = SX2
					has_country_flag = ishkuza_missions_organize_priesthood_flag
				}
			}
			add_prosperity = 3
		}
	}

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 100 #Lots of logic in code instead, that multiplies with this value
		modifier = {
			factor = 2
			NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } }
		}
	}
}

# Small Temple

small_temple = { #year 135
	cost = 100
	time = 24
	make_obsolete = shrine

	modifier = {
		local_missionary_strength = 0.02
		local_missionary_maintenance_cost = -0.1
		local_prosperity_growth = 0.025
	}

	on_built = {
		AN_check_dev_variables = yes
		if = {
			limit = { owner = { uses_patriarch_authority = yes } }
			owner = { add_patriarch_authority = 0.005 }
		}
		if = {
			limit = {
				owner = {
					tag = SX2
					has_country_flag = ishkuza_missions_organize_priesthood_flag
				}
			}
			add_prosperity = 3
		}
	}

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 100 #Lots of logic in code instead, that multiplies with this value
		modifier = {
			factor = 2
			NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } }
		}
	}
}

# Great Temple

great_temple = { #year 190
	cost = 200
	time = 36
	make_obsolete = small_temple

	modifier = {
		local_missionary_strength = 0.03
		local_missionary_maintenance_cost = -0.15
		local_prosperity_growth = 0.05
	}

	on_built = {
		AN_check_dev_variables = yes
		if = {
			limit = { owner = { uses_patriarch_authority = yes } }
			owner = { add_patriarch_authority = 0.0075 }
		}
		if = {
			limit = {
				owner = {
					tag = SX2
					has_country_flag = ishkuza_missions_organize_priesthood_flag
				}
			}
			add_prosperity = 3
		}
	}

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 100 #Lots of logic in code instead, that multiplies with this value
		modifier = {
			factor = 2
			NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } }
		}
	}
}

# Grand Temple

greater_temple = { #year 190
	cost = 400
	time = 48
	make_obsolete = great_temple

	modifier = {
		local_missionary_strength = 0.04
		local_missionary_maintenance_cost = -0.25
		local_prosperity_growth = 0.10
	}

	on_built = {
		AN_check_dev_variables = yes
		if = {
			limit = { owner = { uses_patriarch_authority = yes } }
			owner = { add_patriarch_authority = 0.01 }
		}
		if = {
			limit = {
				owner = {
					tag = SX2
					has_country_flag = ishkuza_missions_organize_priesthood_flag
				}
			}
			add_prosperity = 4
		}
	}

	on_destroyed = { AN_check_dev_variables = yes }

	ai_will_do = {
		factor = 100 #Lots of logic in code instead, that multiplies with this value
		modifier = {
			factor = 2
			NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } }
		}
	}
}

# Oracle, unhandled

oracle = { #year 280
	cost = 200
	time = 24
	build_trigger = {
		always = no
	}
	modifier = {
		local_missionary_strength = 0.01
		# Popgrowth
		local_colonial_growth = 0.25		# Urban capacity (+ absolute)
		allowed_num_of_manufactories = 0.25	# Upper capacity (+abs, added as extra urban)
	}
	on_built = {
		if = {
			limit = { owner = { uses_patriarch_authority = yes } }
			owner = { add_patriarch_authority = 0.025 }
		}
	}

	ai_will_do = {
        factor = 100
	}
}

###################
# THEATRE RELATED #
###################

# Small Threater

small_theater = { #year 280
	cost = 150
	time = 12

    build_trigger = {
		OR = {
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
		}
    }

	keep_trigger = {
		OR = {
			has_building = village
			has_building = town
			has_building = city
			has_building = metropolis
		}
	}

	modifier = {
		local_tax_modifier = 0.15
		local_unrest = -1
	}

	build_trigger = {
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
	}

	ai_will_do = {
        factor = 100
	}
}

# Big Threater

big_theater = { #year 460
	cost = 300
	time = 24
	make_obsolete = small_theater

    build_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
    }

	keep_trigger = {
		OR = {
			has_building = town
			has_building = city
			has_building = metropolis
		}
	}

	modifier = {
		local_tax_modifier = 0.25
		local_unrest = -1.5
	}

	ai_will_do = {
        factor = 100
	}
}

# Great Theater

great_theater = { #year 595
	cost = 600
	time = 36
	make_obsolete = big_theater

    build_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
    }

	keep_trigger = {
		OR = {
			has_building = city
			has_building = metropolis
		}
	}

	modifier = {
		local_tax_modifier = 0.4
		local_unrest = -2
	}

	ai_will_do = {
        factor = 100
	}
}

# Huge Theater

huge_theater = { #year 685
	cost = 1200
	time = 60
	make_obsolete = great_theater

    build_trigger = {
		has_building = metropolis
		owner = {
			OR = {
				neither_tribal_nor_native_trigger = yes
				has_country_flag = tribal_can_use_all_buildings_flag
				full_idea_group = engineering_ideas
			}
		}
    }

	keep_trigger = {
		has_building = metropolis
	}

	modifier = {
		local_tax_modifier = 0.55
		local_unrest = -3
	}

	ai_will_do = {
        factor = 100
	}
}

###################
# WONDERS RELATED #
###################

# None Coded

# Sieges buildings

building_ruins = { #always
	cost = 1
	time = 0
	build_trigger = {
		always = no
	}

	modifier = {
		allowed_num_of_buildings = 1
	}

	on_built = {

	}

	ai_will_do = {
		factor = 0

	}
}

repairs_planned = { #always
	cost = 10
	time = 0
	make_obsolete = building_ruins
	build_trigger = {
		has_building = building_ruins

	}

	modifier = {
		allowed_num_of_buildings = 1
	}

	on_built = {		# this = province, from = builder (may be overlord), so better use owner
		owner = { country_event = { id = sieges.5 } }

	}

	ai_will_do = {
		factor = 0

	}
}


############################
# LAND RECLAMATION RELATED #
############################

land_reclamation = { #year 125
	cost = 550
	time = 48

	build_trigger = {
		NOT = { ROOT = { has_province_modifier = land_reclamation_5 } }
		if = {
			limit = {
				owner = {
					tribal_or_native_trigger = yes
					NOT = { has_reform = mantain_tribal_structures_reform }
				}
			}
			NOT = { ROOT = { has_province_modifier = land_reclamation_5 } }
			NOT = { ROOT = { has_province_modifier = land_reclamation_4 } }
			NOT = { ROOT = { has_province_modifier = land_reclamation_3 } }
		}
	}

	modifier = {
		allowed_num_of_buildings = 15
	}

	on_built = {
		ROOT = {
			hidden_effect = { remove_building = land_reclamation }
			if = {
				limit = { has_province_modifier = land_reclamation_4 }
				hidden_effect = { remove_province_modifier = land_reclamation_4 }
				add_permanent_province_modifier = { name = land_reclamation_5 duration = -1 }
			}
			else_if = {
				limit = { has_province_modifier = land_reclamation_3 }
				hidden_effect = { remove_province_modifier = land_reclamation_3 }
				add_permanent_province_modifier = { name = land_reclamation_4 duration = -1 }
			}
			else_if = {
				limit = { has_province_modifier = land_reclamation_2  }
				hidden_effect = { remove_province_modifier = land_reclamation_2 }
				add_permanent_province_modifier = { name = land_reclamation_3 duration = -1 }
			}
			else_if = {
				limit = { has_province_modifier = land_reclamation_1  }
				hidden_effect = { remove_province_modifier = land_reclamation_1 }
				add_permanent_province_modifier = { name = land_reclamation_2 duration = -1 }
			}
			else = {
				add_permanent_province_modifier = { name = land_reclamation_1 duration = -1 }
			}
		}
	}

	ai_will_do = {
		factor = 8.0
		modifier = {
			factor = 1000
			NOT = { num_free_building_slots = 1 }
			owner = {
				NOT = { is_in_large_debt = yes }
				is_in_deficit = no
				is_bankrupt = no
			}
		}
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000 	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

manpower_infrastructure_building = { #year 125
	cost = 300
	time = 12

	one_per_country = yes

	build_trigger = {
		base_manpower = 1
		owner = { mil_power = 300 }
		OR = {
			AND = {
				has_global_flag = popgrowth_vanilla
				if = {
					limit = {
						has_terrain = desert
						has_terrain = salt_desert
						has_terrain = coastal_desert
						has_terrain = desert_mountain
					}
					NOT = { base_manpower = 5 }
				}
				else = {
					NOT = { base_manpower = 10 }
				}
			}
			AND = {
				has_global_flag = popgrowth_running
				check_variable = { PG_trb_grow = 101 }
			}
		}
	}

	modifier = {
		allowed_num_of_buildings = 15
	}

	on_built = {
		ROOT = {
			hidden_effect = {
				remove_building = manpower_infrastructure_building
				increase_manpower_dev_effect = yes
				if = {
					limit = { has_global_flag = popgrowth_running }
					if = {
						limit = { has_global_flag = popgrowth_v5capacities }
						province_event = { id = population_capacity.15 }
					}
					else = { province_event = { id = population_capacity.4 } }
				}
			}
		}
	}

	ai_will_do = {
		factor = 0.5
		modifier = { factor = 10 	owner = { treasury = 900 } }
		modifier = { factor = 10 	owner = { mil_power = 900 } }
		modifier = { factor = 0 	owner = { NOT = { treasury = 500 } } }
		modifier = { factor = 0 	owner = { NOT = { mil_power = 500 } } }
	}
}

production_infrastructure_building = { #year 125
	cost = 400
	time = 12

	one_per_country = yes

	build_trigger = {

		owner = { dip_power = 300 }
		OR = {
			AND = {
				base_production = 1
				has_global_flag = popgrowth_vanilla
				if = {
					limit = {
						has_terrain = desert
						has_terrain = salt_desert
						has_terrain = coastal_desert
						has_terrain = desert_mountain
					}
					NOT = { base_production = 4	}
				}
				else = {
					NOT = { base_production = 8 }
				}
			}
			AND = {
				has_global_flag = popgrowth_running
				check_variable = { PG_com_grow = 101 }
			}

		}
	}

	modifier = {
		allowed_num_of_buildings = 15
	}

	on_built = {
		ROOT = {
			hidden_effect = {
				remove_building = production_infrastructure_building
				increase_production_dev_effect = yes
				if = {
					limit = { has_global_flag = popgrowth_running }
					if = {
						limit = { has_global_flag = popgrowth_v5capacities }
						province_event = { id = population_capacity.15 }
					}
					else = { province_event = { id = population_capacity.4 } }
				}
			}
		}
	}

	ai_will_do = {
		factor = 0.5
		modifier = { factor = 10 	owner = { treasury = 900 } }
		modifier = { factor = 10 	owner = { dip_power = 900 } }
		modifier = { factor = 0		owner = { NOT = { treasury = 500 } } }
		modifier = { factor = 0 	owner = { NOT = { dip_power = 500 } } }
	}
}

taxes_infrastructure_building = { #year 125
	cost = 500
	time = 12

	one_per_country = yes

	build_trigger = {

		owner = { adm_power = 300 }
		OR = {
			AND = {
				base_tax = 1
				has_global_flag = popgrowth_vanilla
				if = {
					limit = {
						has_terrain = desert
						has_terrain = salt_desert
						has_terrain = coastal_desert
						has_terrain = desert_mountain
					}
					NOT = { base_tax = 3 }
				}
				else = {
					NOT = { base_tax = 6 }
				}
			}
			AND = {
				has_global_flag = popgrowth_running
				check_variable = { PG_upp_grow = 101 }
			}
		}
	}

	modifier = {
		allowed_num_of_buildings = 15
	}

	on_built = {
		ROOT = {
			hidden_effect = {
				remove_building = taxes_infrastructure_building
				increase_tax_dev_effect = yes
				if = {
					limit = { has_global_flag = popgrowth_running }
					if = {
						limit = { has_global_flag = popgrowth_v5capacities }
						province_event = { id = population_capacity.15 }
					}
					else = { province_event = { id = population_capacity.4 } }
				}
			}
		}
	}

	ai_will_do = {
		factor = 0.5
		modifier = { factor = 10 	owner = { treasury = 900 } }
		modifier = { factor = 10 	owner = { adm_power = 900 } }
		modifier = { factor = 0     owner = { NOT = { treasury = 500 } } }
		modifier = { factor = 0 	owner = { NOT = { adm_power = 500 } } }
	}
}

#########################
# MANUFACTORIES RELATED #
#########################

manufactory = {
	cost = 600
	time = 60

	modifier = {
		trade_goods_size = 0.5
	}

}

manufactory_slave_up = {
	cost = 10
	time = 1
	build_trigger = {
		#has_building = manufactory				# it needs each of the manufactory buildings. Removed, to allow other sources of slaves
		check_variable = { SD_slot_free = 1 }
		owner = { check_variable = { slaves = 10 } }
	}

	modifier = {
		allowed_num_of_buildings = 15	# for itself
	}

	on_built = {
		hidden_effect = {
			# owner:
			owner = { subtract_variable = { slaves = 10 } change_variable = { slaves_in_province = 10 } }	# Allocated to separate list
			# province:
			change_variable = { slaves_in_province = 10 }
			#subtract_variable = { SS_slot_free = 1 } change_variable = { SS_slot_taken = 1 }	# slot will be either slaves or civilians
			SD_update_provslots = yes
			SD_update_prov_output = yes
			remove_building = manufactory_slave_up
		}
	}

	ai_will_do = { factor = 0 }
}
manufactory_slave_out = {
	cost = 10
	time = 1
	build_trigger = {
		#has_building = manufactory	# Technically it could happen without manufactory, so it's better to just limit it by variable
		check_variable = { slaves_in_province = 0.1 }	# as long as there is any slave around

	}

	modifier = {
		allowed_num_of_buildings = 15 # for itself
	}

	on_built = {
		hidden_effect = {
			SD_slaves_return_all = yes
			SD_update_provslots = yes
			SD_update_prov_output = yes
			remove_building = manufactory_slave_out
		}
	}

	ai_will_do = { factor = 0 }
}

# Farming Settlement

farming_settlement = {	# comments = base price
	manufactory = {
		grain		# 0.75
		spices		# 3.50
		fruits		# 2.00
		olive		# 2.50
		paper		# 5.00
		olibanum	# 4.00
		herbs		# 2.00
		rice		# 1.00 (0.50 x 2)
		tea_good	# 2.50
		opium		# 3.00
		sugar		# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Winery

winery = {			# specialized, as per slave jobs
	manufactory = {
		wine		# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Shepherds

shepherds = {
	manufactory = {
		wool			# 1.00
		meat_animals	# 1.50
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Apiary

apiary = {
	manufactory = {
		honey		# 2.50
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Weavers

weavers = {
	manufactory = {
		cloth	# 3.00
		silk	# 4.50
		cotton	# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Fishermen Huts

fishermen_huts = {
	manufactory = {
		fish	# 1.50
		amber	# 4.00
		pearls	# 4.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Hunting Lodge

tannery = {
	manufactory = {
		fur				# 2.50
		exotic_animals	# 3.50
		ivory			# 3.50
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

#Salt Gatherers

salt_gatherers = {
	manufactory = {
		salt		# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Miners Camp

miners_camp = {
	manufactory = {
		copper		# 4.00
		iron		# 3.50
		marble		# 4.00
		lead		# 2.00
		jade		# 5.00
		tin			# 4.00
		gems		# 5.00
		silver #can be used but only in macro
		gold   #can be used but only in macro
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}


	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Pottery

pottery = {
	manufactory = {
		ceramic		# 2.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

#Glassmaker

glassmaker = {
	manufactory = {
		glas	# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

#Tar Pits
tar_pit = {
	manufactory = {
		tar_good	# 3.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

#Blacksmith

blacksmith = {
	manufactory = {
		metalware	# 5.75
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 5			# more, it is an expensive trade good
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

####################
#Old manufactories #
####################

# Horsebreeder

horsebreeder = { #year 265
	manufactory = {
		horses		# 2.50
	}

	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Goldsmith

goldsmith = { #year 280
	manufactory = {
		# nope, not used
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Lumberjack

lumberjack = { #year 250
	manufactory = {
		naval_supplies		# 2.00
	}

	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}

# Dryer

dyer = { #year 310
	manufactory = {
		dyes		# 4.00
	}
	on_built = {
		hidden_effect = {
			SD_update_provslots = yes 	SD_update_prov_output = yes
			if = { limit = { owner = { has_country_flag = SD_auto_assign_slaves } } SD_autoassign_slaves = yes }
		}

	}
	on_destroyed = {
		hidden_effect = { SD_remove_manuf_modifiers = yes SD_slaves_return_all = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = { factor = 100 	owner = { treasury = 1000 } }
		modifier = { factor = 200 	owner = { treasury = 2000 } }
		modifier = { factor = 300 	owner = { treasury = 2500 } }
		modifier = { factor = 400 	owner = { treasury = 3000 } }
		modifier = { factor = 500 	owner = { treasury = 3500 } }
		modifier = { factor = 600 	owner = { treasury = 4000 } }
		modifier = { factor = 700 	owner = { treasury = 4500 } }
		modifier = { factor = 800 	owner = { treasury = 5000 } }
		modifier = { factor = 900 	owner = { treasury = 5500 } }
		modifier = { factor = 1000	owner = { treasury = 6000 } }
		modifier = { factor = 10000 owner = { treasury = 10000 } }
	}
}
